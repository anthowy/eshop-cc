{"version":3,"sources":["webpack://gatsby-shopify-course/./src/components/HeaderAtelier/navbar/navbar.js","webpack://gatsby-shopify-course/./src/components/HeaderAtelier/index.js","webpack://gatsby-shopify-course/./src/components/LayoutAtelier/index.js","webpack://gatsby-shopify-course/./src/components/AtelierQuantityAdder/index.js","webpack://gatsby-shopify-course/./src/templates/AtelierTemplate/styles.js","webpack://gatsby-shopify-course/./src/templates/AtelierTemplate/index.js"],"names":["Navigation","styled","Toggle","Navbox","props","open","Hamburger","useState","navbarOpen","setNavbarOpen","classname","className","Link","to","onClick","alt","src","Cart","HeaderAtelier","siteTitle","Helmet","LayoutAtelier","children","AtelierQuantityAdder","variantId","available","React","quantity","setQuantity","updateLineItem","CartContext","onSubmit","e","preventDefault","parseInt","disabled","type","min","step","value","onChange","currentTarget","fullWidth","Price","AtelierTemplate","location","getProductById","product","setProduct","selectedVariant","setSelectedVariant","useLocation","search","origin","pathname","queryString","variant","data","shopifyProduct","shopifyId","then","result","variants","find","id","description","title","selectedVariantImageId","image","images","navigate","availableForSale","length","price","newVariant","v","target","encodeURIComponent","replace","map","key","selectedOptions","name"],"mappings":"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","file":"component---src-templates-atelier-template-index-js.js","sourcesContent":["import React, { useState } from \"react\"\nimport { Link } from 'gatsby'\nimport styled from \"styled-components\"\nimport NavbarLinks from \"../../Navbarlinks\"\nimport { Cart } from '../../Cart';\n\n\nconst Navigation = styled.nav`\ndisplay: flex;\n  position: relative;\n  z-index: 999;\n  background-color:#ec6726;\n\n\n  @media (max-width: 768px) {\n    position: fixed;\n    height: 8vh;\n    top: 0;\n    left: 0;\n    right: 0;\n    left: 0;\n    background-color: #ec6726;\n  }\n`\n\nconst Toggle = styled.div`\n  display: none;\n  height: 100%;\n  cursor: pointer;\n  padding: 0 10vw;\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`\n\nconst Navbox = styled.div`\n  display: flex;\n  height: 100%;\n  justify-content: flex-end;\n  align-items: center;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    position: fixed;\n    width: 99%;\n    justify-content: flex-start;\n    background-color: #fff;\n    transition: all 0.3s ease-in;\n    top: 8vh;\n    left: ${props => (props.open ? \"-100%\" : \"0\")};\n    height:200vh;\n  }\n`\n\nconst Hamburger = styled.div`\nbackground-color: white;\nwidth: 30px;\nheight: 3px;\ntransition: all .3s linear;\nalign-self: center;\nposition: relative;\ntransform: ${props => (props.open ? \"rotate(-45deg)\" : \"inherit\")};\n\n::before,\n::after {\n  width: 30px;\n  height: 3px;\n  background-color: white;\n  content: \"\";\n  position: absolute;\n  transition: all 0.3s linear;\n}\n\n::before {\n  transform: ${props =>\n  props.open ? \"rotate(-90deg) translate(-10px, 0px)\" : \"rotate(0deg)\"};\n  top: -10px;\n}\n\n::after {\n  opacity: ${props => (props.open ? \"0\" : \"1\")};\n  transform: ${props => (props.open ? \"rotate(90deg) \" : \"rotate(0deg)\")};\n  top: 10px;\n}\n`\nconst Navbar = () => {\n  const [navbarOpen, setNavbarOpen] = useState(false)\n\n  return (\n    <Navigation classname=\"text-white\">\n      <title> Coccinelles et compagnies</title>\n      <div className=\"flex flex-wrap container justify-between mx-auto p-2\">\n\n        <Link to=\"/\" className=\"flex items-center no-underline\">\n        <span className=\" text-xl md:text-4xl pl-5 md:mb-1 DancingScript italic\">\n            Coccinelles et compagnie\n            </span>\n        </Link>\n        <Toggle\n          navbarOpen={navbarOpen}\n          onClick={() => setNavbarOpen(!navbarOpen)}\n        >\n          {navbarOpen ? <Hamburger open /> : <Hamburger />}\n        </Toggle>\n        {navbarOpen ? (\n          <Navbox>\n            <img className='w-3/6 mx-auto mb-5 ' alt=\"accueil\" src=\"https://res.cloudinary.com/anthow/image/upload/v1619966607/Coccinelles%20et%20compagnies/logo-atelier_yyf8ko.svg\" />\n\n            <Cart className=\"gris\" />\n            <NavbarLinks />\n          </Navbox>\n        ) : (\n          <Navbox open>\n            <NavbarLinks />\n            <Cart className=\"gris\" />\n          </Navbox>\n        )}\n      </div>\n    </Navigation>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport Navbar from './navbar/navbar';\n\nexport function HeaderAtelier({ siteTitle }) {\n  return (\n    <header className=\" text-white\">\n      <Helmet>\n        <title> Coccinelles et compagnies</title>\n      </Helmet>\n     <Navbar />\n    </header>\n  )\n}\n","//import { fromJSON } from 'postcss';\nimport React from 'react';\nimport { HeaderAtelier } from '../HeaderAtelier'\nimport { Footer } from '../footer/';\nimport \"@fontsource/roboto\"\nimport \"@fontsource/dancing-script\"\nconst LayoutAtelier = ({ children }) => {\n  return (\n    <>\n          <div className=\"site min-h-screen flex flex-col \">\n\n      <HeaderAtelier/>\n        <main className=\"mt-10 md:mt-0\" >{children} </main>\n        <Footer />\n        </div>\n    </>\n  );\n};\n\nexport { LayoutAtelier };\n","import React from 'react';\n//import { ProductQuantityAdderWrapper } from './styles';\nimport CartContext from 'context/CartContext';\n\nexport function AtelierQuantityAdder({ variantId, available }) {\n  const [quantity, setQuantity] = React.useState(1);\n  const { updateLineItem } = React.useContext(CartContext);\n\n  const handleQuantityChange = e => {\n    setQuantity(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    updateLineItem({ variantId, quantity: parseInt(quantity, 10) });\n  };\n\n  return (\n    <>\n      <p className=\"mb-3 mt-3 title-article text-2xl font-bold DancingScript  \">Quantité</p>\n      <form onSubmit={handleSubmit}>\n        <input \n          disabled={!available}\n          type=\"number\"\n          min=\"1\"\n          step=\"1\"\n          value={quantity}\n          onChange={handleQuantityChange}\n          className=\"bg-transparent border-atelier  w-32 rounded p-1\"\n        />\n        <button type=\"submit\" className=\"  hover:opacity-80 block mt-5 p-2 text-2xl w-auto bgorange whitespace-nowrap rounded-full text-white \"\n disabled={!available} fullWidth>\n          Ajouter au panier\n        </button>\n      </form>\n      </>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Grid = styled.section`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px;\n  margin-top: 20px;\n\n  @media (min-width: 768px) {\n    grid-template-columns: 1fr 1fr;\n\n    > div:first-child {\n      order: 2;\n    }\n\n    > div:last-child {\n      order: 1;\n    }\n  }\n`;\n\nexport const SelectWrapper = styled.div`\n  margin-top: 40px;\n  > strong {\n    display: block;\n    margin-bottom: 8px;\n  }\n`;\n\nexport const Price = styled.div`\n  margin: 20px 0;\n  font-weight: bold;\n  font-size: 30px;\n`;\n","/* eslint-disable jsx-a11y/no-onchange */\nimport React from 'react';\nimport { graphql } from 'gatsby';\nimport {LayoutAtelier} from '../../components/LayoutAtelier'\nimport {\n\n  ImageGallery,\n  SEO,\n} from 'components';\nimport {AtelierQuantityAdder} from '../../components/AtelierQuantityAdder'\nimport {  Price } from './styles';\nimport CartContext from 'context/CartContext';\nimport { navigate, useLocation } from '@reach/router';\nimport queryString from 'query-string';\nexport const query = graphql`\n  query AtelierQuery($shopifyId: String) {\n    shopifyProduct(shopifyId: { eq: $shopifyId }) {\n      ...ShopifyProductFields\n    }\n  }\n`;\n\nexport default function AtelierTemplate(props,location) {\n  const { getProductById } = React.useContext(CartContext);\n  const [product, setProduct] = React.useState(null);\n  const [selectedVariant, setSelectedVariant] = React.useState(null);\n  const { search, origin, pathname } = useLocation();\n  const variantId = queryString.parse(search).variant;\n\n  React.useEffect(() => {\n    getProductById(props.data.shopifyProduct.shopifyId).then(result => {\n      setProduct(result);\n      setSelectedVariant(\n        result.variants.find(({ id }) => id === variantId) || result.variants[0]\n      );\n    });\n  }, [\n    getProductById,\n    setProduct,\n    props.data.shopifyProduct.shopifyId,\n    variantId,\n  ]);\n\n  const handleVariantChange = e => {\n    const newVariant = product?.variants.find(v => v.id === e.target.value);\n    setSelectedVariant(newVariant);\n    navigate(\n      `${origin}${pathname}?variant=${encodeURIComponent(newVariant.id)}`,\n      {\n        replace: true,\n      }\n    );\n  };\n\n  return (\n    <LayoutAtelier>\n\n      <SEO\n        description={props.data.shopifyProduct.description}\n        title={props.data.shopifyProduct.title}\n      />\n      <div className=\"flex mt-20 flex-col md:flex-row content-center m-auto w-2/3 md:mt-10\" >\n      <div>\n\n          <ImageGallery\n            selectedVariantImageId={selectedVariant?.image.id}\n            images={props.data.shopifyProduct.images}\n            \n            \n          />\n        </div>        <div className=\"mt-4 md:mt-0 md:w-2/3 md:mx-8\"> \n        <button className=\"hover:opacity-80 border-2 text-l px-2 py-1 rounded-full \" onClick={() => navigate(-1)}>revenir aux ateliers</button>\n          <h1 className=\"DancingScript title-article text-4xl font-bold\" >{props.data.shopifyProduct.title}</h1>\n          {product?.availableForSale && !!selectedVariant && (\n            <>\n              {product?.variants.length > 1 && (\n                \n                  <div className=\" flex flex-col  mt-0 \">\n                  <Price className=\"couleuratelier\" >{selectedVariant.price} €</Price> \n                  <p className=\"mb-3 title-article text-2xl font-bold DancingScript \">options</p>\n                  <div className=\" flex flex-row\">\n                  <select className=\"bg-transparent bg-transparent border-atelier  w-32 rounded p-1 p-1\"\n                    value={selectedVariant.id}\n                    onChange={handleVariantChange}\n                  >\n                    {product?.variants.map(v => (\n                      <option key={v.id} value={v.id}>\n                        {v.selectedOptions.name}\n                        {v.title}\n                      </option>\n                    ))}\n                  </select>\n                  </div>\n                  </div>\n                \n              )}\n              {!!selectedVariant && (\n                <>\n                  <AtelierQuantityAdder\n                    available={selectedVariant.available}\n                    variantId={selectedVariant.id}\n                  />\n                </>\n              )}\n            </>\n          )}\n        </div>\n       \n      </div>\n      <div className=\" markdown description mt-4 mb-4  w-2/3  m-auto border-2t p-8\"\n      >\n              \n              <p className=\"DancingScript title-article text-4xl font-bold \">Description du produit</p>\n      <p className=\"py-8\">{props.data.shopifyProduct.description}</p>\n</div>\n    </LayoutAtelier>\n  );\n}\n"],"sourceRoot":""}